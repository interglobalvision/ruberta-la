{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","document","ready","imagesLoaded","progress","sizeImages","clearTimeout","resizeTimer","setTimeout","layoutMasonry","masonry","itemSelector","transitionDuration","each","width","parent","css","length","fixWidows","string","html","replace"],"mappings":"AAGAA,MACEC,gBAAiB,IACjBC,KAAM,WACJ,GAAIC,OAAQC,IAEZC,GAAEC,QAAQC,OAAO,WACfJ,MAAMK,aAGRH,EAAEI,UAAUC,MAAM,WAChBL,EAAE,iBAAiBM,eAAeC,SAAU,WAC1CT,MAAMU,kBAMZL,SAAU,WACR,GAAIL,OAAQC,IAGZU,cAAaX,MAAMY,aACnBZ,MAAMY,YAAcC,WAAW,WAC7Bb,MAAMU,cACL,MAILI,cAAe,WAGbZ,EAAE,mBAAmBa,SACnBC,aAAc,gBACdC,mBAAoB,KAIxBP,WAAY,WACV,GAAIV,OAAQC,IAEZC,GAAE,gBAAgBgB,KAAK,WACrB,GAAIC,OAAQjB,EAAED,MAAMmB,SAASD,OAE7BjB,GAAED,MAAMoB,IAAI,aAAcF,SAGxBjB,EAAE,mBAAmBoB,QACvBtB,MAAMc,iBAIVS,UAAW,WAETrB,EAAE,kBAAkBgB,KAAK,WACvB,GAAIM,QAAStB,EAAED,MAAMwB,MACrBD,QAASA,OAAOE,QAAQ,YAAY,YACpCxB,EAAED,MAAMwB,KAAKD,YAKnB3B,KAAKE","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    $(document).ready(function () {\n      $('#main-content').imagesLoaded().progress( function() {\n        _this.sizeImages();\n      });\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    // Debounced masonry & image re-layout\n    clearTimeout(_this.resizeTimer);\n    _this.resizeTimer = setTimeout(function() {\n      _this.sizeImages();\n    }, 250);\n\n  },\n\n  layoutMasonry: function() {\n    var _this = this;\n\n    $('.masonry-holder').masonry({\n      itemSelector: '.masonry-item',\n      transitionDuration: 0,\n    });\n  },\n\n  sizeImages: function() {\n    var _this = this;\n\n    $('.ratio-image').each(function() {\n      var width = $(this).parent().width();\n\n      $(this).css('max-height', width);\n    });\n\n    if ($('.masonry-holder').length) {\n      _this.layoutMasonry();\n    }\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.init();\n"]}